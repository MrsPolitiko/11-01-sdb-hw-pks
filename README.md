# Домашнее задание к занятию «Базы данных, их типы» - Политико Ксения


### Задание 1. СУБД
# Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?

**1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков. СУБД должна гарантировать целостность и чёткую структуру данных.**
Выбор - реляционная СУБД для работы с данными в табличной форме с информацией по обекту для составления отчетов и прогнозирования на основе накопления данных.
Подойдут Oracle, Microsoft SQL, PostgreSQL, MySQL

**1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы?**
- СУБД типа ключ-значение Чаще всего такие СУБД используют для кэширования, т.к. они очень быстро работают, а это и не сложно, когда есть уникальный ключ, и запрос возвращает только одно значение. подойдут Redis, Memcached. md5 - он предназначен для использования больших объемов данных и вывода хэша очень, очень быстро.

**1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.**
- для лендингов - СУБД NoSQL, например MongoDB; для CRM - реляционная СУБД, например PostgreSQL

**1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?**
- возможно использовать реляционную СУБД, PostgreSQL

**1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.**
- для создания базы данных по корпоративным нормам, правилам и обучающим материалам, которая будет соответствовать структуре компании и при этом оставаться простой и понятной, можно использовать реляционную СУБД (например, MySQL, PostgreSQL или SQLite). Реляционные базы данных хорошо подходят для структурированных данных и позволяют легко организовывать связи между различными сущностями.

**1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?**
- Да, можно использовать уже существующую СУБД, если она подходит для решения задачи. Например, если у вас уже есть база данных, используемая для других задач (например, управления сотрудниками или проектами), можно расширить её структуру, добавив таблицы и связи, необходимые для хранения корпоративных норм, правил и обучающих материалов.

**1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.**
- для решения этих задач можно использовать СУБД, такую как PostgreSQL или Oracle. Эти СУБД позволяют быстро работать со сложными связями между объектами и эффективно распределять ресурсы. Можно подключить отдел закупок к СУБД PostgreSQL или Oracle. Обе эти СУБД предоставляют широкие возможности для создания и управления базами данных, которые могут быть использованы в разных отделах компании, включая отдел закупок.

**1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?**
- Для отдела закупок можно создать отдельную базу данных, связанную с базой данных отдела логистики. Это позволит избежать дублирования данных и упростить процесс обмена информацией между отделами. Однако решение о том, нужно ли формировать отдельную СУБД для отдела закупок или использовать СУБД логистов, зависит от множества факторов, включая объем данных, специфические требования и процессы работы отделов, а также потребности в интеграции данных между отделами. Важно учитывать, что в случае разделения СУБД между отделами, возникает необходимость взаимодействия и интеграции данных между ними. Это может потребовать дополнительных усилий для синхронизации, обмена или экспорта-импорта данных между СУБД.

**1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?**
- Да, все перечисленные задачи можно решить, используя одну СУБД. Одной из самых популярных и подходящих для данных задач является СУБД PostgreSQL. PostgreSQL обладает мощными возможностями работы со связанными данными, включая поддержку графовых баз данных с помощью расширения Graph. Это позволяет эффективно моделировать связи между объектами, что полезно при формировании маршрутов доставки и распределении курьеров.

### Задание 2. Транзакции
**2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.**
1. Пользователь вводит номер своего телефона и сумму пополнения на сайте оператора или в мобильном приложении.
2. Данные отправляются на сервер оператора, где происходит проверка доступности суммы для пополнения на счете пользователя.
3. Если сумма доступна, оператор отправляет запрос на подтверждение транзакции на телефон пользователя.
4. Пользователь подтверждает транзакцию, введя специальный код, отправленный оператором.
5. Оператор списывает сумму пополнения со счета пользователя и добавляет ее на баланс телефона.
6. Баланс телефона обновляется, и пользователь может начать пользоваться услугами связи.

**2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?**
Если пополнение происходит через автоплатеж, алгоритм может быть немного другим:
1. Пользователь настраивает автоплатеж в личном кабинете своего банка или через мобильное приложение.
2. Указывает сумму и периодичность списания средств.
3. Банк обрабатывает запрос на автоплатеж и создает подписку на автоматическое списание средств.
4. При достижении указанной суммы на счете, банк автоматически списывает средства и зачисляет их на баланс мобильного телефона пользователя.

### Задание 3. SQL vs NoSQL
**3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.**
SQL-системы (реляционные базы данных) и NoSQL-системы имеют свои преимущества и недостатки, и выбор между ними зависит от конкретных задач. Вот пять ключевых преимуществ SQL-систем по сравнению с NoSQL:

1. Строгая структура данных (схема)
В SQL-системах данные хранятся в таблицах с четко определенной структурой (столбцы, типы данных, связи). Это обеспечивает целостность данных и предотвращает ошибки, связанные с некорректным форматом.

В NoSQL данные часто хранятся в виде документов (например, JSON), что позволяет гибко изменять структуру, но может привести к проблемам с согласованностью и валидацией.

2. Поддержка сложных запросов и JOIN
SQL-системы предоставляют мощный язык запросов (SQL), который позволяет выполнять сложные операции, такие как объединение таблиц (JOIN), агрегация данных (GROUP BY, HAVING), сортировка (ORDER BY) и фильтрация (WHERE).

В NoSQL такие операции либо отсутствуют, либо реализованы менее эффективно, что затрудняет работу с взаимосвязанными данными.

3. Целостность данных и ACID-транзакции
SQL-системы поддерживают ACID-транзакции (Atomicity, Consistency, Isolation, Durability), что гарантирует надежность и согласованность данных даже в случае сбоев.

NoSQL-системы часто жертвуют ACID в пользу производительности и масштабируемости, что может привести к потере данных или несогласованности.

4. Широкие возможности для анализа данных
SQL-системы идеально подходят для аналитических задач, так как они поддерживают сложные запросы, оконные функции, представления (VIEW) и хранимые процедуры.

NoSQL-системы, как правило, ориентированы на операции чтения/записи и не предоставляют таких возможностей для глубокого анализа.

5. Зрелость и экосистема
SQL-системы существуют уже несколько десятилетий (например, MySQL, PostgreSQL, Oracle), что делает их надежными, хорошо документированными и поддерживаемыми. Они интегрированы с огромным количеством инструментов для разработки, анализа и визуализации данных.

NoSQL-системы (например, MongoDB, Cassandra) моложе, и их экосистема менее развита, что может усложнить интеграцию и поддержку.

**3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.**

# Когда выбирать SQL:
Если данные структурированы и взаимосвязаны.

Если важна целостность данных и поддержка транзакций.

Если требуется выполнять сложные аналитические запросы.

Если нужна зрелая и проверенная временем технология.

# Когда выбирать NoSQL:
Если данные неструктурированы или полуструктурированы (например, JSON, XML).

Если требуется высокая производительность и масштабируемость для больших объемов данных.

Если гибкость структуры данных важнее строгой схемы.

Если приложение работает с распределенными системами и большими нагрузками.

### Задание 4. Кластеры
Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.
На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?

При выборе типа СУБД для обработки большого количества данных и производства большого количества вычислений основными критериями могут быть:

**Производительность.** СУБД должна обеспечивать высокую производительность обработки запросов и операций с данными. 1
Масштабируемость. СУБД должна позволять масштабировать вычислительные ресурсы в горизонтальном (добавление новых серверов) и вертикальном (увеличение мощности существующих серверов) направлении. 1
**Отказоустойчивость.** СУБД должна иметь механизмы обеспечения безопасности данных и восстановления после сбоев. 1
**Распределённость**. СУБД должна позволять распределять данные и запросы на выполнение между несколькими серверами для увеличения пропускной способности и ускорения обработки. 1
При выборе модели распределённых вычислений для работы с огромным количеством данных можно рассмотреть два варианта:

**Модель «массовой обработки данных» (MapReduce).** Подходит для обработки больших объёмов данных, разбивая их на части и распределяя для параллельной обработки на несколько серверов. Эффективна в случаях, когда требуется обработать данные в пакетном режиме, без требования по мгновенному ответу. Примерами распределённых СУБД, основанных на модели MapReduce, являются Apache Hadoop и Apache Spark. 1
**Модель «управляемых транзакций» (ACID).** Подходит для обработки данных, где требуется ACID-консистентность (атомарность, согласованность, изолированность, долговечность) транзакций. 1
Выбор конкретного решения зависит от конкретных требований и задач проекта.
